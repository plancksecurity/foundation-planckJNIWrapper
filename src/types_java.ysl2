include ./textutils.ysl2

function "toJava" {
    param "type";

    choose {
        when "$type='stringlist'" > String[]
        when "$type='string'" > String
        when "$type='message'" > MimeMessage
        when "$type='pEp-identity'" > Identity
        when "$type='identity-list'" > Identity[]
        when "$type='timestamp'" > Date
        when "$type='pEp-enc-format'" > MimeMessage.EncFormat
        otherwise call "CamelCase" with "text", "$type";
    }
}

define operator "â€ ([$@]?[a-zA-Z0-9_]+)" as call "toJava" with "type", "%1";

