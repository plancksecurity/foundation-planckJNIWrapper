JAVA_PKG_BASENAME=foundation.pEp.jniadapter.test
JAVA_PKG_BASEPATH=foundation/pEp/jniadapter/test
REPOROOT=../..
DIST_DIR=$(REPOROOT)/dist
JAVA_CWD=../../../../../
JAVA_RESOURCES_DIR=../resources

JAVA_PEP_HOME_DIR_ALICE=$(JAVA_RESOURCES_DIR)/per-user-dirs/alice
JAVA_PEP_HOME_DIR_BOB=$(JAVA_RESOURCES_DIR)/per-user-dirs/bob
JAVA_PEP_HOME_DIR_CAROL=$(JAVA_RESOURCES_DIR)/per-user-dirs/carol
JAVA_PEP_HOME_DIR=$(JAVA_PEP_HOME_DIR_ALICE)

PEP_HOME_DIR_ALICE=$(JAVA_CWD)$(JAVA_PEP_HOME_DIR_ALICE)
PEP_HOME_DIR_BOB=$(JAVA_CWD)$(JAVA_PEP_HOME_DIR_BOB)
PEP_HOME_DIR_CAROL=$(JAVA_CWD)$(JAVA_PEP_HOME_DIR_CAROL)
PEP_HOME_DIR=$(PEP_HOME_DIR_ALICE)

CLASSPATH=.:$(DIST_DIR)/pEp.jar
LD_LIB_PATH=.:$(DIST_DIR)

JAVA=java -enableassertions -Xcheck:jni -cp $(CLASSPATH) -Djava.library.path=$(LD_LIB_PATH)

PITYTEST_DIR=../../../pitytest

ifdef ENGINE_LIB_PATH
	ifeq ($(PLATFORM),linux)
	  ifndef LD_LIBRARY_PATH
	    export LD_LIBRARY_PATH=$(ENGINE_LIB_PATH)
	  endif
	else ifeq ($(PLATFORM),darwin)
	  ifndef DYLD_LIBRARY_PATH
	    export DYLD_LIBRARY_PATH=$(ENGINE_LIB_PATH)
	  endif
	endif
endif

